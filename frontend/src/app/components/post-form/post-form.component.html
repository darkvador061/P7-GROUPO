<!-- on vérifie l'état du serveur -->
<div class="text-center mt-5">
  <div *ngIf="loading" class="spinner-border" style="width: 3rem; height: 3rem;" role="status"></div>
</div>
<div class="card">
<!-- on vérifie que l'objet user exsite bien -->
<div *ngIf="user !== undefined && user !== null" class="row mt-5">
  <div class="col-sm-10 offset-sm-1">
    <form [formGroup]="postForm">
      <h1>Publier un post</h1>
      <div class="form-group">
        <label for="title">Titre</label>
        <input type="text" id="title" class="form-control" formControlName="title">
      </div>
      <div class="form-group">
        <label for="content">À quoi penses-tu {{ user.firstName }} ?</label>
        <textarea name="content" id="content" cols="30" rows="6" class="form-control" formControlName="content"></textarea>
       
      </div>
      <div class="form-group">
        <label class="post-select-file" for="profile-file">Ajouter une image :</label><br>
        <input class="post-file mb-3" type="file" accept=".png, .jpg, .jpeg, .gif, .mp4" #imageInput (change)="onSelectFile(imageInput)">
      </div>
      <img *ngIf="image" [src]="image" alt="Image sélectionné par l'utilisateur">
      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-danger mr-3" (click)="onCancelPost()">Annuler</button>
        <button type="submit" [disabled]="postForm.invalid" class="btn btn-green" (click)="onCreatePost()">Publier</button>
      </div>
    </form>
  </div>
</div>
</div>